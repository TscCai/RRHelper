<html>

<head>
    <link rel="stylesheet" href="ui/bootstrap.css" />
    <link rel="stylesheet" href="ui/frozen.css" />
    
    <script src="rrhelper-base.js"></script>
    <script src="rrhelper-vector.js"></script>
    <script src="rrhelper-paint.js"></script>
</head>

<body>

    <header class="ui-header ui-header-positive ui-border-b">
        <h1>向量计算器</h1>
    </header>
    <section class="ui-container">
        <ul class="ui-row">
            <li class="ui-col ui-col-25">
                <div class="ui-form-item ui-form-item-link ui-border-b">
                    <label>
                        幅值
                    </label>
                    <input type="text" placeholder="">
                </div>
            </li>
            <li class="ui-col ui-col-25">
                <div class="ui-form-item ui-form-item-link ui-border-b">
                    <label>
                        相位
                    </label>
                    <input type="text" placeholder="">
                </div>
            </li>
            <li class="ui-col ui-col-25">
                <div class="ui-form-item ui-border-b">
                    <button class="ui-btn-lg-nowhole ui-btn-primary">添加</button>
                </div>
                
            </li>

            <li  class="ui-col ui-col-25">
                <div class="ui-form-item ui-border-b">
                    <button class="ui-btn-lg-nowhole ui-btn-primary">移除最后一个</button>
                </div>
            </li>    
        </ul>
    </section>
    <section class="ui-container ui-center">

        <canvas id="cvs" width="640" height="640" style="margin:0 auto"></canvas>
    </section>

</body>

<script>
    var cvs = $("#cvs");
    var ctx = cvs.getContext("2d");
    var center = [320, 320];

    var a = new RRHelper.Vector(1, 120);
    var b = new RRHelper.Vector(1, -50);

    var c = new RRHelper.Vector.minus(a, b);



    var len = [a.mod, b.mod, c.mod];
    len = RRHelper.lengthUniformize(len, 230);
    a.mod = len[0];
    b.mod = len[1];
    c.mod = len[2];


    ctx.strokeStyle = "#FF0000";
    ctx.lineToEx(center[0], center[1], a.mod, a.ang, RRHelper.LineToArgs.Polar | RRHelper.LineToArgs.EndArrow);

    ctx.strokeStyle = "#00FF00";
    ctx.lineToEx(center[0], center[1], b.mod, b.ang, RRHelper.LineToArgs.Polar | RRHelper.LineToArgs.EndArrow);

    ctx.strokeStyle = "#0000FF";
    ctx.lineToEx(center[0], center[1], c.mod, c.ang, RRHelper.LineToArgs.Polar | RRHelper.LineToArgs.EndArrow);




    // easy way
    // var i = 0;
    // window.setInterval(() => {
    //     ctx.clearRect(0, 0, 640, 640);
    //     ctx.strokeStyle = "#FF0000";
    //     ctx.lineToEx(center[0], center[1], 230, i, RRHelper.LineToArgs.Polar | RRHelper.LineToArgs.EndArrow);
    //     ctx.stroke();

    //     i -= 0.3;
    //     // i = Math.abs(i) % 360 > 0 ? i % 360 : i;
    // }, 16);

    // more customized way
    /*
    var endPoint = ctx.lineToEx(center[0], center[1], 230, 90, RRHelper.LineToArgs.Polar);
    ctx.lineArrow(endPoint.x, endPoint.y, endPoint.k,30,20);
    ctx.lineArrow(center[0], center[1], p.k * -1 ,30,20);
    ctx.stroke();
    */

</script>

</html>